<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Berita - HIMAMIA FMIPA UNNES</title>
    <script src="https://www.gstatic.com/firebasejs/9.6.10/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.6.10/firebase-firestore-compat.js"></script>
    <style>
        /* CSS dari template berita1.html Anda */
        body { font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; line-height: 1.6; color: #222; background: #fff; padding: 0 15px 50px 15px; }
        .container { max-width: 900px; margin: 0 auto; }
        .header-area { background-color: #113F67; color: white; padding: 30px 20px 40px 20px; display: flex; gap: 30px; flex-wrap: wrap; align-items: center; border-radius: 0 0 8px 8px; margin-bottom: 20px; }
        .date-block { min-width: 70px; text-align: center; }
        .date-block .day { font-size: 2rem; font-weight: 700; line-height: 1; }
        .date-block .month { font-size: 1.1rem; text-transform: uppercase; letter-spacing: 1.5px; margin-top: 4px; }
        .title-block { flex: 1; font-weight: 700; font-size: 1.3rem; line-height: 1.3; }
        .breadcrumbs { font-size: 0.8rem; margin-bottom: 25px; color: #555; }
        .breadcrumbs a { color: #0366d6; }
        .breadcrumbs .separator { margin: 0 6px; color: #999; }
        .article-image { width: 100%; max-height: 400px; border-radius: 6px; margin-bottom: 25px; background: #e9e9e9; }
        .article-image img { width: 100%; height: auto; max-height: 400px; object-fit: cover; }
        article { font-size: 1rem; line-height: 1.6; color: #333; }
        article p { margin-bottom: 14px; }
        .back-button { display: inline-block; margin-top: 20px; padding: 8px 16px; background-color: #113F67; color: white; border-radius: 4px; text-decoration: none; font-weight: 600; }
    </style>
</head>
<body>
    <div class="container">
      <header class="header-area" role="banner">
    <div class="date-block" aria-label="Date of article">
        <div class="day" id="news-day">...</div>
        <div class="month" id="news-month">...</div>
    </div>
    <div class="flex-1">
        <h1 class="title-block" id="news-title">Memuat Berita...</h1>
        <div class="mt-2 text-sm text-gray-300">
            Oleh: <strong id="news-author" class="font-semibold">...</strong> | Kategori: <strong id="header-category" class="font-semibold">...</strong>
        </div>
    </div>
</header>

<nav class="breadcrumbs" aria-label="Breadcrumb">
    <a href="index.html">Beranda</a>
    <span class="separator">/</span>
    <a href="index.html#berita" id="breadcrumb-category">Berita</a>
    <span class="separator">/</span>
    <span id="breadcrumb-title" style="color:#555; font-weight:600;">...</span>
</nav>

        <div class="article-image">
            <img id="news-image" src="" alt="Gambar Berita" />
        </div>

        <article role="main" id="news-content">
            <p>Memuat konten artikel...</p>
        </article>

        <a href="index.html" class="back-button">Kembali ke Beranda</a>
    </div>

   <script>
    // --- Firebase Configuration ---
    const firebaseConfig = {
        apiKey: "AIzaSyD7HgJq8XIusYjM-p6ly-WwkAE4jQJ6CxI",
        authDomain: "himamiaweb25.firebaseapp.com",
        projectId: "himamiaweb25",
        storageBucket: "himamiaweb25.appspot.com",
        messagingSenderId: "221670280017",
        appId: "1:221670280017:web:308066165b701cb13e6170"
    };
    firebase.initializeApp(firebaseConfig);
    const db = firebase.firestore();

    // --- Load Article Logic ---
    document.addEventListener('DOMContentLoaded', () => {
        const urlParams = new URLSearchParams(window.location.search);
        const articleId = urlParams.get('id');

        if (!articleId) {
            document.getElementById('news-title').textContent = "Berita tidak ditemukan (ID tidak ada).";
            return;
        }

        const articleRef = db.collection('berita').doc(articleId);

        articleRef.get().then((doc) => {
            if (doc.exists) {
                const data = doc.data();
                
                document.title = data.judul + " - HIMAMIA";
                document.getElementById('news-title').textContent = data.judul;
                
                if (data.createdAt) {
                    const date = data.createdAt.toDate();
                    document.getElementById('news-day').textContent = date.getDate();
                    document.getElementById('news-month').textContent = date.toLocaleString('id-ID', { month: 'short' });
                }

                document.getElementById('breadcrumb-title').textContent = data.judul;

                const imgElement = document.getElementById('news-image');
                imgElement.src = data.gambar;
                imgElement.alt = data.judul;

                // <-- PERIKSA BAGIAN INI -->
                document.getElementById('news-author').textContent = data.penulis || 'Admin';
                document.getElementById('header-category').textContent = data.kategori || 'Umum';
                document.getElementById('breadcrumb-category').textContent = data.kategori || 'Umum';
                document.getElementById('news-content').innerHTML = data.kontenLengkap || '<p>Konten tidak tersedia.</p>';

            } else {
                document.getElementById('news-title').textContent = "Berita tidak ditemukan.";
                document.getElementById('news-content').innerHTML = '<p>Maaf, berita yang Anda cari tidak ada atau mungkin telah dihapus.</p>';
            }
        }).catch((error) => {
            console.error("Error getting document:", error);
            document.getElementById('news-title').textContent = "Gagal memuat berita.";
        });
    });
</script>

</body>
</html>
